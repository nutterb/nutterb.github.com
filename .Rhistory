getwd()
blogdown::new_site("personal_blog")
?list.files
list.dirs("personal_blog")
getwd()
list.files("personal_blog")
list.dirs("personal_blog")
list.dirs("personal_blog", recursive = FALSE)
library(help = rmarkdown)
library(help = yaml)
?yaml.load
yaml.load_file("personal_blog/2017-01-25/index.Rmd")
library(yaml)
yaml.load_file("personal_blog/2017-01-25/index.Rmd")
readLines(file.path(dir, "index.Rmd"))
dir <- list.dirs("personal_blog", recursive = FALSE)
readLines(file.path(dir, "index.Rmd"))
yaml <-
lapply(file.path(dir, "index.Rmd"),
readLines)
yaml
lapply(file.path(dir, "index.Rmd"),
readLines) %>%
lapply(function(x){
yaml_matter <- which(x = "^---")
x[-c(1, yaml_matter[2]:length(x))]
})
library(magrittr)
lapply(file.path(dir, "index.Rmd"),
readLines) %>%
lapply(function(x){
yaml_matter <- which(x = "^---")
x[-c(1, yaml_matter[2]:length(x))]
})
lapply(file.path(dir, "index.Rmd"),
readLines) %>%
lapply(function(x){
yaml_matter <- which(grepl("^---", x))
x[-c(1, yaml_matter[2]:length(x))]
})
lapply(file.path(dir, "index.Rmd"),
readLines) %>%
lapply(function(x){
yaml_matter <- which(grepl("^---", x))
x[-c(1, yaml_matter[2]:length(x))]
}) %>%
lapply(
strsplit,
":"
)
lapply(yaml,
function(x){
x[grepl("^title", x)]
})
vapply(yaml,
function(x){
x[grepl("^title", x)]
},
FUN.VALUE = character(1))
vapply(yaml,
function(x){
x[grepl("^title", x)]
},
FUN.VALUE = character(1)) %>%
sub("^title[:]", "", .) %>%
gsub("\"", "", .)
vapply(yaml,
function(x){
x[grepl("^title", x)]
},
FUN.VALUE = character(1)) %>%
sub("^title[:]", "", .) %>%
gsub("\"", "", .) %>%
trimws()
dir
date <- sub("personal_blog[/]", "", dir)
date
file.path(dir, "index.html")
sprintf("<a href = '%s'><h3>%s</h3></a>",
file.path(dir, "index.html"),
title)
title
title <-
vapply(yaml,
function(x){
x[grepl("^title", x)]
},
FUN.VALUE = character(1)) %>%
sub("^title[:]", "", .) %>%
gsub("\"", "", .) %>%
trimws()
date <- sub("personal_blog[/]", "", dir)
link <- sprintf("<a href = '%s'><h3>%s</h3></a>",
file.path(dir, "index.html"),
title)
link
library(magrittr)
dir <- list.dirs(recursive = FALSE)
yaml <-
lapply(file.path(dir, "index.Rmd"),
readLines) %>%
lapply(function(x){
yaml_matter <- which(grepl("^---", x))
x[-c(1, yaml_matter[2]:length(x))]
})
lapply(file.path(dir, "index.Rmd"),
readLines)
dir
dir <- list.dirs(recursive = FALSE,
pattern = "\\d{4}-\\d{2}-\\d{2}")
?list.dirs
dir <- list.files(recursive = FALSE,
pattern = "\\d{4}-\\d{2}-\\d{2}")
dir
